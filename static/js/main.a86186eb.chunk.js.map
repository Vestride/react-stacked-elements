{"version":3,"sources":["app.module.css","../../src/index.tsx","demo.module.css","demo3.module.css","mode-switcher.module.css","demo1.module.css","demo2.module.css","mode-switcher.tsx","demo1.tsx","demo2.tsx","demo3.tsx","app.tsx","index.tsx"],"names":["module","exports","StackedElements","selectedIndex","React","className","style","display","Children","map","children","child","i","styles","gridColumnStart","gridRowStart","zIndex","visibility","key","isRequired","query","window","matchMedia","storedPreference","localStorage","getItem","ModeSwitcher","initialState","matches","useState","isDarkMode","setIsDarkMode","useEffect","onQueryChange","mediaQueryList","addListener","removeListener","theme","setItem","console","log","document","documentElement","classList","remove","add","label","title","button","onClick","role","aria-label","Demo1","isChecked","setIsChecked","demoStyles","demo","htmlFor","checkboxWrapper","response","id","type","checked","onChange","Demo2","isConfirmed","setIsConfirmed","autoPlay","muted","loop","playsInline","video","src","href","reset","Demo3","setSelectedIndex","one","two","three","four","index","App","header","container","headerContent","description","pre","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a86186eb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app_header__2ppV5\",\"headerContent\":\"app_headerContent__3ExSH\",\"container\":\"app_container__2JKVN\",\"description\":\"app_description__1PHzC\",\"pre\":\"app_pre__Pk_9p\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\ninterface StackedElementsProps {\n  className?: string;\n  children: React.ReactNode;\n  selectedIndex: number;\n}\n\nconst StackedElements: React.FunctionComponent<StackedElementsProps> = ({ className, children, selectedIndex }) => (\n  <div className={className} style={{ display: 'grid' }}>\n    {React.Children.map(children, (child, i) => {\n      const styles: React.CSSProperties = {\n        gridColumnStart: 1,\n        gridRowStart: 1,\n      };\n      if (i === selectedIndex) {\n        styles.zIndex = 1;\n      } else {\n        styles.visibility = 'hidden';\n        styles.zIndex = 0;\n      }\n      return (\n        <div\n          key={`stacked-elements-content-${i}`}\n          data-testid={`stacked-elements-content-${i}`}\n          aria-hidden={i !== selectedIndex}\n          style={styles}\n        >\n          {child}\n        </div>\n      );\n    })}\n  </div>\n);\n\nif (typeof process !== 'undefined' && process.env.NODE_ENV !== 'production') {\n  StackedElements.propTypes = {\n    children: PropTypes.arrayOf(PropTypes.element).isRequired,\n    className: PropTypes.string,\n    selectedIndex: PropTypes.number.isRequired,\n  };\n}\n\nexport default StackedElements;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"demo\":\"demo_demo__1gcue\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"one\":\"demo3_one__3TJ0b\",\"two\":\"demo3_two__2xqa2\",\"three\":\"demo3_three__RE257\",\"four\":\"demo3_four__2dlQz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"mode-switcher_label__1xMbq\",\"button\":\"mode-switcher_button__39-Or\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"demo1_label__2Qek4\",\"checkboxWrapper\":\"demo1_checkboxWrapper__e-Vok\",\"response\":\"demo1_response__1Nh3K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"video\":\"demo2_video__3DszH\",\"reset\":\"demo2_reset__24Qho\"};","import React, { useState, useEffect } from 'react';\n\nimport StackedElements from '../../';\n\nimport styles from './mode-switcher.module.css';\n\nconst query = typeof window === 'undefined' ? null : window.matchMedia('(prefers-color-scheme: dark)');\nconst storedPreference = typeof localStorage === 'undefined' ? null : localStorage.getItem('color-scheme');\n\nexport const ModeSwitcher: React.FunctionComponent = () => {\n  const initialState = storedPreference ? storedPreference === 'dark' : query ? query.matches : false;\n  const [isDarkMode, setIsDarkMode] = useState(initialState);\n\n  // Rerender when the system changes its preferences.\n  useEffect(() => {\n    if (!query) return;\n    const onQueryChange = (mediaQueryList: MediaQueryListEvent) => {\n      setIsDarkMode(mediaQueryList.matches);\n    };\n    query.addListener(onQueryChange);\n\n    return () => {\n      query.removeListener(onQueryChange);\n    };\n  }, []);\n\n  useEffect(() => {\n    const theme = isDarkMode ? 'dark' : 'light';\n    try {\n      localStorage.setItem('color-scheme', theme);\n    } catch {\n      console.log('Failed to write to local storage');\n    }\n    document.documentElement.classList.remove('dark', 'light');\n    document.documentElement.classList.add(theme);\n  }, [isDarkMode]);\n\n  return (\n    <label className={styles.label}>\n      <StackedElements selectedIndex={isDarkMode ? 0 : 1}>\n        <button\n          title=\"You are using the dark theme. Click to switch to light.\"\n          className={styles.button}\n          onClick={() => setIsDarkMode(false)}\n        >\n          <span role=\"img\" aria-label=\"moon\">\n            üåî\n          </span>\n        </button>\n        <button\n          title=\"You are using the light theme. Click to switch to dark.\"\n          className={styles.button}\n          onClick={() => setIsDarkMode(true)}\n        >\n          <span role=\"img\" aria-label=\"sun\">\n            ‚òÄÔ∏è\n          </span>\n        </button>\n      </StackedElements>\n    </label>\n  );\n};\n","import React, { useState } from 'react';\n\nimport StackedElements from '../..';\n\nimport demoStyles from './demo.module.css';\nimport styles from './demo1.module.css';\n\nexport const Demo1: React.FunctionComponent = () => {\n  const [isChecked, setIsChecked] = useState(true);\n  return (\n    <div className={demoStyles.demo}>\n      <label htmlFor=\"rsvp-checkbox\">\n        <div className={styles.label}>Are you going?</div>\n        <div className={styles.checkboxWrapper}>\n          <StackedElements selectedIndex={isChecked ? 0 : 1} className={styles.response}>\n            <span>Absolutely</span>\n            <span>No</span>\n          </StackedElements>\n          <input id=\"rsvp-checkbox\" type=\"checkbox\" checked={isChecked} onChange={() => setIsChecked(!isChecked)} />\n        </div>\n      </label>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\n\nimport StackedElements from '../..';\n\nimport demoStyles from './demo.module.css';\nimport styles from './demo2.module.css';\n\nexport const Demo2: React.FunctionComponent = () => {\n  const [isConfirmed, setIsConfirmed] = useState(false);\n  return (\n    <div className={demoStyles.demo}>\n      <StackedElements selectedIndex={isConfirmed ? 1 : 0}>\n        <button onClick={() => setIsConfirmed(true)}>Confirm</button>\n        <video autoPlay muted loop playsInline className={styles.video}>\n          <source\n            src=\"https://media2.giphy.com/media/f3jZ8moRBbEvNJjOtu/giphy.mp4\"\n            type='video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"'\n          />\n          <a href=\"https://media2.giphy.com/media/f3jZ8moRBbEvNJjOtu/giphy.gif\">\n            Your browser does not support the mp4 video codec.\n          </a>\n        </video>\n      </StackedElements>\n\n      <button className={styles.reset} onClick={() => setIsConfirmed(false)}>\n        reset\n      </button>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\n\nimport StackedElements from '../..';\n\nimport demoStyles from './demo.module.css';\nimport styles from './demo3.module.css';\n\nexport const Demo3: React.FunctionComponent = () => {\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  return (\n    <div className={demoStyles.demo}>\n      <StackedElements selectedIndex={selectedIndex}>\n        <div className={styles.one} />\n        <div className={styles.two} />\n        <div className={styles.three} />\n        <div className={styles.four} />\n      </StackedElements>\n\n      <button onClick={() => setSelectedIndex((index) => (index === 3 ? 0 : index + 1))}>Next</button>\n    </div>\n  );\n};\n","import React from 'react';\n\nimport { ModeSwitcher } from './mode-switcher';\nimport { Demo1 } from './demo1';\nimport { Demo2 } from './demo2';\nimport { Demo3 } from './demo3';\n\nimport styles from './app.module.css';\n\nconst App: React.FC = () => (\n  <>\n    <header className={styles.header}>\n      <div className={styles.container}>\n        <div className={styles.headerContent}>\n          <strong>\n            <code>react-stacked-elements</code>\n          </strong>\n          <ModeSwitcher />\n        </div>\n      </div>\n    </header>\n    <main className={styles.container}>\n      <blockquote className={styles.description}>\n        Toggle the visibility of elements without causing a layout shift\n      </blockquote>\n      <p>Install with npm</p>\n      <pre className={styles.pre}>\n        <code>npm install react-stacked-elements</code>\n      </pre>\n      <h2>Demos</h2>\n      <h3>Horizontal space</h3>\n      <Demo1 />\n      <pre className={styles.pre}>\n        <code>{`<StackedElements selectedIndex={isChecked ? 0 : 1}>\n  <span>Absolutely</span>\n  <span>No</span>\n</StackedElements>`}</code>\n      </pre>\n      <h3>Vertical space</h3>\n      <Demo2 />\n      <pre className={styles.pre}>\n        <code>{`<StackedElements selectedIndex={isConfirmed ? 1 : 0}>\n  <button onClick={() => setIsConfirmed(true)}>Confirm</button>\n  <video />\n</StackedElements>`}</code>\n      </pre>\n      <h3>Multiple elements</h3>\n      <Demo3 />\n      <pre className={styles.pre}>\n        <code>{`<StackedElements selectedIndex={selectedIndex}>\n  <div className={styles.one} />\n  <div className={styles.two} />\n  <div className={styles.three} />\n  <div className={styles.four} />\n</StackedElements>`}</code>\n      </pre>\n    </main>\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}